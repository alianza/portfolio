@import "boilerplate.scss";

/* ==========================================================================
   Begin Author's custom styles
   ========================================================================== */

@import url("https://fonts.googleapis.com/css2?family=Roboto&display=swap");

// Dimensions
$navbar_height: 5em;
$navbar_collapsed_height: 3em;

// Element max sizes
$full_page_width: 1000px;
$container_max_width: 768px;

// Screen sizes
$small: 480px;
$medium: 900px;

// Transition timings
$transition_in: .1s;
$transition_out: .35s;

// Colors
$main_color: #222;
$button_color: #efefef;

// Mixins
@mixin logo {
  content: "";
  background-size: cover;
  background-repeat: no-repeat;
  width: 48px;
  height: 48px;
  top: 1.5em;
  position: absolute;
  transition: all $transition_out ease-in-out;
  filter: drop-shadow(0px 0px 6px rgba(0, 0, 0, .2));
}

@mixin tech-logo {
  @include logo;
  left: 1.5em;
}

@mixin team-logo {
  @include logo;
  right: 1.5em;
}

body {

  &.scroll_disabled {
    overflow: hidden;
  }
}

* {
  box-sizing: border-box;
  font-family: 'Roboto', sans-serif;
}

// General styles
button, .button {
  background-color: $button_color;
  border: none;
  padding: 1em;
  cursor: pointer;
  transition: transform .35s, box-shadow .35s;

  &:hover {
    transform: translateY(-6px);
    transition: transform .1s, box-shadow .1s;
    box-shadow: black 0 6px;
  }

  &:active {
    transform: translateY(-2px);
    box-shadow: black 0 2px;
    outline: none;
  }

  a {
    text-decoration: none;
    color: currentColor;
  }
}

#loader {
  transition: visibility .5s, opacity 0.5s;
  position: fixed;
  left: 50%;
  top: 0;
  transform: translateX(-50%);
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, .5);
  visibility: hidden;
  opacity: 0;
  z-index: 4;

  &.active {
    visibility: visible;
    opacity: 1;

    div {
      border: 16px solid #f3f3f3;
      border-radius: 50%;
      border-top: 16px solid #3498db;
      width: 140px;
      height: 140px;
      animation: spin 2s linear infinite;
      position: relative;
      top: 40%;
      margin: 0 auto;
      box-shadow: 0 0 12px 8px rgba(0, 0, 0, .2), inset 0 0 12px 8px rgba(0, 0, 0, .2);
    }
  }
}

#navbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1em;
  position: fixed;
  width: 100%;
  background-color: #222;
  color: whitesmoke;
  max-height: $navbar_height;
  top: 0;
  box-shadow: black 0 0 12px;
  transition: max-height $transition_out;
  z-index: 4;

  &.collapsed {
    max-height: $navbar_collapsed_height;
  }

  &.open {
    transition: max-height $transition_out;
    max-height: 500px;

    .navbar__menu {
      transition: opacity $transition_out, transform $transition_out;
      opacity: 1;
      transform: translateX(0px);
      pointer-events: all;
    }

    .navbar__logo {
      cursor: pointer;
      transition: transform $transition_out;

      &:hover {
        transform: scale(1.1);
        transition: transform $transition_in;
      }
    }
  }

  .navbar {

  &__menu {
    display: flex;
    max-width: 480px;
    flex-basis: 100%;
    width: 100%;
    justify-content: space-around;
    transition: opacity 1s;

    span, a {
      color: whitesmoke;
      cursor: pointer;
      text-decoration: underline solid transparent;
      transition: text-decoration-color $transition_out;
      white-space: nowrap;

      &:hover {
        text-decoration-color: whitesmoke;
        transition: text-decoration-color $transition_in;
      }
    }
  }

  &__mobile {
    display: none;
    cursor: pointer;
    transition: transform $transition_out;
    margin-left: 1em;

    &:hover {
      transform: scale(1.2);
      transition: transform $transition_in;
    }
  }
}
}

#cover {
  .cover {

    &__title {
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      color: whitesmoke;
      width: 80%;

      h1 {
        font-size: 4em;
      }
    }

    &__video {
      margin: $navbar_height auto auto;
      width: 100%;
      height: calc(100vh - #{$navbar_height});
      object-fit: cover;
      box-shadow: $main_color 0px -32px 0px 0px, rgba(0, 0, 0, .2) 0 0 6px;
      pointer-events: none;
    }
  }
}

#content {
  margin: auto;

  section {
    .container {
      padding: 1em;
      max-width: $full_page_width;
      margin: auto;

      .wrapper {
        width: 100%;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;

        .col {
          position: relative;
          padding: 1em;
          flex-grow: 1;
          flex-basis: 250px;
          max-width: 450px;

          &.clickable {
            transition: transform $transition_out ease-in-out;

            &:hover {
              transition: transform $transition_in ease-in-out;
              transform: scale(1.05);
              cursor: pointer;

              h3 {
                transition: text-decoration-color $transition_in;
                text-decoration-color: currentColor;
              }
            }

            &:active {
              transition: transform $transition_in;
              transform: scale(.99);
            }
          }

          .img {
            width: 100%;
            object-fit: cover;
            aspect-ratio: 1/1;
            box-shadow: rgba(0, 0, 0, .2) 0 0 12px;
            border-radius: 1em;
            transition: transform $transition_out ease-in-out;
          }

          h3 {
            text-decoration: underline solid transparent;
            transition: text-decoration-color $transition_out;
          }
        }
      }
    }
  }

  #about_me {
    .container {
      .wrapper {
        .col {
          max-width: none;
        }
      }
    }
  }

  #experiences {
    .col {
      h3 {
        text-align: center;
      }
    }

    @import 'icon_bindings';
  }

  #contact {
    .container {
      max-width: $container_max_width;

      .wrapper {
        display: block;

        .col {
          max-width: none;
        }

        .contact_form {
          display: flex;
          justify-content: space-between;
          flex-wrap: wrap;
          margin: -1em;

          &__left {
            flex-grow: 1;
            padding: 1em;
            display: flex;
            flex-direction: column;
            justify-content: space-between;

            & input {
              display: block;
              width: 100%;
              border: none;
              box-shadow: rgba(0, 0, 0, .5) 0 0 6px;
              border-radius: 2px;
              padding: .5em;

              &:first-of-type {
                margin-bottom: 1em;
              }
            }
          }

          &__right {
            flex-grow: 1;
            padding: 1em;

            & textarea {
              display: inline-block;
              width: 100%;
              height: 100%;
              border: none;
              box-shadow: rgba(0, 0, 0, .5) 0 0 6px;
              border-radius: 2px;
              padding: .5em;
            }
          }

          &__bottom {
            flex-basis: 100%;

            button {
              margin: 0 auto;
              display: block;
            }

            .g-recaptcha {
              margin-top: 1em;

              div {
                margin: 0 auto;
              }
            }
          }
        }
      }
    }
  }
}

#footer {
  display: flex;
  justify-content: space-between;
  padding: 1em;
  background-color: $main_color;
  color: whitesmoke;
  width: 100%;

  .footer {

    &__author {
      padding: 0 .5em;
    }

    &__social-media {
      display: inline-block;

      a {
        color: whitesmoke;
        cursor: pointer;
        text-decoration: underline solid transparent;
        transition: text-decoration-color $transition_out;
        white-space: nowrap;
        padding: 0 .5em;

        &:hover {
          text-decoration-color: whitesmoke;
          transition: text-decoration-color $transition_in;
        }
      }
    }
  }
}

#dialog {
  opacity: 0;
  transition: opacity $transition_out;
  pointer-events: none;
  position: relative;

  &.active {
    opacity: 1;
    pointer-events: all;
  }

  .dialog {

    &__backdrop {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, .65);
      z-index: 1;
      cursor: pointer;
    }

    &__close-button {
      padding: 1em;
      margin: -1em;
      cursor: pointer;
      transition: transform .1s;
      position: absolute;
      top: 1em;
      right: 1em;

      &:hover {
        transform: scale(1.2);
      }

      &:active {
        transform: scale(.98);
      }
    }

    &__content-wrapper {
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      background-color: #f5f5f5;
      width: 75%;
      height: auto;
      border-radius: .5em;
      box-shadow: 0 0 12px rgba(0, 0, 0, .5);
      z-index: 3;
      max-height: 85%;
      overflow: auto;
      overflow-x: hidden;
      max-width: 1200px;

      p.flex {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-evenly;
      }

      img, video {
        box-shadow: rgba(0, 0, 0, .2) 0 0 12px;
        width: 100%;
        border-radius: 1em;

        &:not(.icon) {
          display: block;
          margin: 0 auto;
          max-width: fit-content;

          &.flex {
            min-width: 250px;
            margin: 1em;
            flex-basis: 0;
            flex-grow: 1;
            max-width: 350px;
          }
        }

        &.icon {
          width: auto;
          height: 32px;
          box-shadow: none;
          margin-left: .2em;
          border-radius: 0;
          cursor: pointer;
          transition: transform $transition_out, filter $transition_out;

          &:hover {
            transform: scale(1.1);
            filter: drop-shadow(0px 0px 6px rgba(0, 0, 0, .2));
            transition: transform $transition_in, filter $transition_in;
          }
        }
      }

      &::-webkit-scrollbar-thumb {
        border-radius: 0 .5em .5em 0;
      }
    }

    &__container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1em;

    }

    &__content {
      width: 100%;
    }
  }
}

@media screen and (max-width: $small) {
  #navbar {
    .navbar {

      &__menu {
        transition: opacity $transition_in, transform $transition_in;;
        opacity: 0;
        transform: translateX(50px);
        pointer-events: none;
        width: auto;
        flex-direction: column;
        align-items: flex-end;
      }

      &__mobile {
        display: block;
      }
    }
  }

  #content {

    section {
      .container {
        padding: .2em;
      }
    }

    h1 {
      text-align: center;
    }
  }
}

@media only screen and (max-width: 768px) {
  #dialog .dialog {
    &__content-wrapper {
      width: 90%;

      h1, h2, h3, h4, h5, h6, summary, #screens {
        text-align: center;
      }

      p a:not(:last-of-type) button {
        margin-bottom: 1em;
      }

      // Per paragraph all buttons except last get margin-bottom

      button {
        width: 100%;
      }
    }
  }
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* ==========================================================================
   End Author's custom styles
   ========================================================================== */

@import "helpers.scss";
